<!DOCTYPE html>  <html> <head>   <title>app.coffee</title>   <meta http-equiv="content-type" content="text/html; charset=UTF-8">   <link rel="stylesheet" media="all" href="docco.css" /> </head> <body>   <div id="container">     <div id="background"></div>            <div id="jump_to">         Jump To &hellip;         <div id="jump_wrapper">           <div id="jump_page">                                           <a class="source" href="app.html">                 app.coffee               </a>                                           <a class="source" href="backbone-faye-client-store.html">                 backbone-faye-client-store.coffee               </a>                                           <a class="source" href="faye-client-auth.html">                 faye-client-auth.coffee               </a>                                           <a class="source" href="jquery.image-dropout.html">                 jquery.image-dropout.coffee               </a>                                           <a class="source" href="backbone-faye-server-store.html">                 backbone-faye-server-store.coffee               </a>                                           <a class="source" href="faye.ad.html">                 faye.ad.coffee               </a>                                           <a class="source" href="server.html">                 server.coffee               </a>                        </div>         </div>       </div>          <table cellpadding="0" cellspacing="0">       <thead>         <tr>           <th class="docs">             <h1>               app.coffee             </h1>           </th>           <th class="code">           </th>         </tr>       </thead>       <tbody>                               <tr id="section-1">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-1">&#182;</a>               </div>               <h2>The Equipment</h2>

<p>The equipment  is at the  heart of <em>Mothra</em>. This  is what mothra  keeps track
of...it is an  inventory application is model will hold  the methods that will
control what equipment does. This is version one of the application and all it
will do now is keep track of who checked it out with the fields below.</p>

<p>Equipment has several fiels they are:</p>

<ul>
<li>asset_tag_number </li>
<li>make </li>
<li>model_number </li>
<li>serial_number </li>
<li>who_has_it</li>
<li>notes </li>
</ul>             </td>             <td class="code">               <div class="highlight"><pre></pre></div>             </td>           </tr>                               <tr id="section-2">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-2">&#182;</a>               </div>               <p>Equipment can be reserved ( allowing some one to check it out )
and equipment must be returned.</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="nv">Equipment = </span><span class="nx">Backbone</span><span class="p">.</span><span class="nx">Model</span><span class="p">.</span><span class="nx">extend</span>

  <span class="nv">checkout: </span><span class="nf">(user)-&gt;</span></pre></div>             </td>           </tr>                               <tr id="section-3">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-3">&#182;</a>               </div>               <p>We are only going to allow checking out a piece of equipment 
if it isn't already checked out.
NOTE: This could change for simplicity</p>             </td>             <td class="code">               <div class="highlight"><pre>      <span class="nx">@save</span> <span class="nv">who_has_it: </span><span class="nx">user</span> <span class="o">!</span><span class="nx">@get</span> <span class="s1">&#39;who_has_it&#39;</span></pre></div>             </td>           </tr>                               <tr id="section-4">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-4">&#182;</a>               </div>               <h2>The Equipment List a.k.a Inventory</h2>

<p>Equipment List  maintains the <code>CRUD</code> for  equipment...well...in backbone there
is a  method called  <code>sync</code>. The  <code>sync</code> method is  what actual  initiates the
<code>CRUD</code>. The sync  method is overriden using the included  <code>Store</code>. The <code>Store</code>
contains logic  to preform the <code>CRUD</code>  methods. This store uses  <code>pub/sub/</code> on
websockets. This way  all communication will be published to  all clients when
any piece of <code>Equipment</code> is created, updated, or deleted.</p>             </td>             <td class="code">               <div class="highlight"><pre></pre></div>             </td>           </tr>                               <tr id="section-5">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-5">&#182;</a>               </div>               <p>This is the definition of the Inventory</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="nv">EquipmentList = </span><span class="nx">Backbone</span><span class="p">.</span><span class="nx">Collection</span><span class="p">.</span><span class="nx">extend</span></pre></div>             </td>           </tr>                               <tr id="section-6">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-6">&#182;</a>               </div>               <p>Defining the model this collection will use ( this is a must )</p>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="nv">model: </span><span class="nx">Equipment</span></pre></div>             </td>           </tr>                               <tr id="section-7">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-7">&#182;</a>               </div>               <p>Defining how we want the collection to persist</p>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="nv">fayeStorage: </span><span class="k">new</span> <span class="nx">Store</span> <span class="s1">&#39;equipments&#39;</span></pre></div>             </td>           </tr>                               <tr id="section-8">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-8">&#182;</a>               </div>               <p>helper to keep order on the page</p>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="nv">nextOrder: </span><span class="o">-&gt;</span>
    <span class="k">return</span> <span class="mi">1</span> <span class="nx">unless</span> <span class="nx">@length</span>
    <span class="k">return</span> <span class="nx">@last</span><span class="p">().</span><span class="nx">get</span><span class="p">(</span><span class="s1">&#39;order&#39;</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span></pre></div>             </td>           </tr>                               <tr id="section-9">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-9">&#182;</a>               </div>               <p>Default compare</p>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="nv">comparator: </span><span class="nf">(equipment) -&gt;</span>
    <span class="nx">equipment</span><span class="p">.</span><span class="nx">get</span> <span class="s1">&#39;order&#39;</span></pre></div>             </td>           </tr>                               <tr id="section-10">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-10">&#182;</a>               </div>               <h2>The Equipment View</h2>

<p>Setting up the views for the individual piece of equipment.
In this class we will define events that will occur on the elements
and how to respond to them.</p>             </td>             <td class="code">               <div class="highlight"><pre></pre></div>             </td>           </tr>                               <tr id="section-11">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-11">&#182;</a>               </div>               <p>A single <code>li</code> element for an individual piece of equipment</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="nv">EquipmentView = </span><span class="nx">Backbone</span><span class="p">.</span><span class="nx">View</span><span class="p">.</span><span class="nx">extend</span>
  <span class="nv">tagName: </span><span class="s1">&#39;li&#39;</span></pre></div>             </td>           </tr>                               <tr id="section-12">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-12">&#182;</a>               </div>               <p>This is the template for the piece of equipment</p>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="nv">template: </span><span class="nx">_</span><span class="p">.</span><span class="nx">template</span> <span class="nx">$</span><span class="p">(</span><span class="s1">&#39;#item-template&#39;</span><span class="p">).</span><span class="nx">html</span><span class="p">()</span>

  <span class="nv">events:</span>
    <span class="s1">&#39;dblclick .equipment&#39;</span><span class="o">:</span>       <span class="s1">&#39;edit&#39;</span>
    <span class="s1">&#39;keyup .fields input&#39;</span> <span class="o">:</span>      <span class="s1">&#39;liveSave&#39;</span>
    <span class="s1">&#39;keyup .fields textarea&#39;</span><span class="o">:</span>    <span class="s1">&#39;liveSave&#39;</span>
    <span class="s1">&#39;click .equipment-destroy&#39;</span><span class="o">:</span>  <span class="s1">&#39;destroy&#39;</span>

  <span class="nv">initialize: </span><span class="o">-&gt;</span>
    <span class="nx">_</span><span class="p">.</span><span class="nx">bindAll</span> <span class="err">@</span><span class="p">,</span> <span class="s1">&#39;render&#39;</span><span class="p">,</span> <span class="s1">&#39;close&#39;</span><span class="p">,</span> <span class="s1">&#39;setContent&#39;</span><span class="p">,</span> <span class="s1">&#39;destroy&#39;</span><span class="p">,</span> <span class="s1">&#39;set_input&#39;</span></pre></div>             </td>           </tr>                               <tr id="section-13">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-13">&#182;</a>               </div>               <p>When ever the model changes we will want to re-render this html element</p>             </td>             <td class="code">               <div class="highlight"><pre>    <span class="nx">@model</span><span class="p">.</span><span class="nx">bind</span> <span class="s1">&#39;change&#39;</span><span class="p">,</span> <span class="nx">@setContent</span>
    <span class="vi">@model.view = </span><span class="err">@</span></pre></div>             </td>           </tr>                               <tr id="section-14">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-14">&#182;</a>               </div>               <p>Perform this action once.  This will render the element on the page</p>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="nv">render: </span><span class="o">-&gt;</span>
    <span class="nx">$</span><span class="p">(</span><span class="nx">@el</span><span class="p">).</span><span class="nx">html</span> <span class="nx">@template</span> <span class="nx">@model</span><span class="p">.</span><span class="nx">toJSON</span><span class="p">()</span>
    <span class="nx">@setContent</span><span class="p">()</span>
    <span class="k">return</span> <span class="err">@</span></pre></div>             </td>           </tr>                               <tr id="section-15">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-15">&#182;</a>               </div>               <p>Set all the items on the page</p>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="nv">setContent: </span><span class="o">-&gt;</span>
    <span class="nv">tags = </span><span class="p">[</span>  
      <span class="s1">&#39;asset_tag_number&#39;</span>
      <span class="s1">&#39;make&#39;</span>
      <span class="s1">&#39;model_number&#39;</span>
      <span class="s1">&#39;serial_number&#39;</span>
      <span class="s1">&#39;who_has_it&#39;</span>
      <span class="s1">&#39;notes&#39;</span>
    <span class="p">]</span>
    <span class="nx">@set_input</span> <span class="nx">tag</span> <span class="k">for</span> <span class="nx">tag</span> <span class="k">in</span> <span class="nx">tags</span>  </pre></div>             </td>           </tr>                               <tr id="section-16">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-16">&#182;</a>               </div>               <p>Set the input for each of the fields
Also, set the selection of thoses elements</p>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="nv">set_input: </span><span class="nf">(name) -&gt;</span>
    <span class="err">@</span><span class="p">[</span><span class="nx">name</span><span class="p">]</span>      <span class="o">=</span> <span class="nx">@$</span> <span class="s2">&quot;.#{name}&quot;</span>
    <span class="p">[</span><span class="nx">start</span><span class="p">,</span> <span class="nx">end</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="err">@</span><span class="p">[</span><span class="nx">name</span><span class="p">].</span><span class="nx">selectionStart</span> <span class="p">,</span> <span class="err">@</span><span class="p">[</span><span class="nx">name</span><span class="p">].</span><span class="nx">selectionEnd</span><span class="p">]</span>

    <span class="err">@</span><span class="p">[</span><span class="nx">name</span><span class="p">].</span><span class="nx">val</span> <span class="nx">@model</span><span class="p">.</span><span class="nx">get</span> <span class="nx">name</span>
    <span class="nx">@$</span><span class="p">(</span><span class="s2">&quot;.equipment-#{name}&quot;</span><span class="p">).</span><span class="nx">text</span> <span class="nx">@model</span><span class="p">.</span><span class="nx">get</span> <span class="nx">name</span>
    <span class="p">[</span><span class="err">@</span><span class="p">[</span><span class="nx">name</span><span class="p">].</span><span class="nx">selectionStart</span> <span class="p">,</span> <span class="err">@</span><span class="p">[</span><span class="nx">name</span><span class="p">].</span><span class="nx">selectionEnd</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="nx">start</span><span class="p">,</span> <span class="nx">end</span><span class="p">]</span>


  <span class="nv">toggleDone: </span> <span class="o">-&gt;</span> <span class="nx">@model</span><span class="p">.</span><span class="nx">toggle</span><span class="p">()</span>
  <span class="nv">edit: </span>       <span class="o">-&gt;</span> <span class="nx">$</span><span class="p">(</span><span class="nx">@el</span><span class="p">).</span><span class="nx">addClass</span> <span class="s1">&#39;editing&#39;</span>
  <span class="nv">clear: </span>      <span class="o">-&gt;</span> <span class="nx">@model</span><span class="p">.</span><span class="nx">clear</span><span class="p">()</span>
  <span class="nv">destroy: </span>    <span class="o">-&gt;</span> <span class="nx">@model</span><span class="p">.</span><span class="nx">destroy</span><span class="p">()</span></pre></div>             </td>           </tr>                               <tr id="section-17">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-17">&#182;</a>               </div>               <p>Create an object that  will contain all the properties to  be updated on the
piece of equipment</p>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="nv">updatedAttributes: </span><span class="o">-&gt;</span>
    <span class="nv">asset_tag_number: </span> <span class="nx">@asset_tag_number</span><span class="p">.</span><span class="nx">val</span><span class="p">()</span>
    <span class="nv">make: </span>             <span class="nx">@make</span><span class="p">.</span><span class="nx">val</span><span class="p">()</span>
    <span class="nv">model_number: </span>     <span class="nx">@model_number</span><span class="p">.</span><span class="nx">val</span><span class="p">()</span>
    <span class="nv">serial_number: </span>    <span class="nx">@serial_number</span><span class="p">.</span><span class="nx">val</span><span class="p">()</span>
    <span class="nv">notes: </span>            <span class="nx">@notes</span><span class="p">.</span><span class="nx">val</span><span class="p">()</span>
    <span class="nv">who_has_it: </span>       <span class="nx">@who_has_it</span><span class="p">.</span><span class="nx">val</span><span class="p">()</span></pre></div>             </td>           </tr>                               <tr id="section-18">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-18">&#182;</a>               </div>               <p>Close the editing pane and update the model</p>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="nv">close: </span><span class="o">-&gt;</span>
    <span class="nx">@model</span><span class="p">.</span><span class="nx">save</span> <span class="nx">@updatedAttributes</span><span class="p">()</span>
    <span class="nx">$</span><span class="p">(</span><span class="nx">@el</span><span class="p">).</span><span class="nx">removeClass</span> <span class="s1">&#39;editing&#39;</span></pre></div>             </td>           </tr>                               <tr id="section-19">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-19">&#182;</a>               </div>               <p>When the  user presses  any key  the piece  of equipment  will be  saved and
published out to all users. If the user presses the enter key then close the
editing pane</p>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="nv">liveSave: </span><span class="nf">(e) -&gt;</span>
    <span class="nx">@model</span><span class="p">.</span><span class="nx">save</span> <span class="nx">@updatedAttributes</span><span class="p">()</span>
    <span class="nx">@close</span><span class="p">()</span> <span class="k">if</span> <span class="nx">e</span><span class="p">.</span><span class="nx">keyCode</span> <span class="o">is</span> <span class="mi">13</span></pre></div>             </td>           </tr>                               <tr id="section-20">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-20">&#182;</a>               </div>               <h2>The App View</h2>

<p>The app  view is  the main view  of the inventory  application. This  is where
inventory will be crated and added to the list.</p>             </td>             <td class="code">               <div class="highlight"><pre></pre></div>             </td>           </tr>                               <tr id="section-21">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-21">&#182;</a>               </div>               <p>Connecting the app to the <code>div</code></p>             </td>             <td class="code">               <div class="highlight"><pre><span class="nv">AppView = </span><span class="nx">Backbone</span><span class="p">.</span><span class="nx">View</span><span class="p">.</span><span class="nx">extend</span>
  <span class="nv">el: </span><span class="nx">$</span> <span class="s1">&#39;#equipmentapp&#39;</span></pre></div>             </td>           </tr>                               <tr id="section-22">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-22">&#182;</a>               </div>               <p>Events to hook in to equipment creation.</p>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="nv">events:</span>
    <span class="s1">&#39;keyup .fields input&#39;</span> <span class="o">:</span>      <span class="s1">&#39;createOnEnter&#39;</span>
    <span class="s1">&#39;keyup .fields textarea&#39;</span><span class="o">:</span>    <span class="s1">&#39;createOnEnter&#39;</span>

  <span class="nv">initialize: </span><span class="o">-&gt;</span>
    <span class="nx">_</span><span class="p">.</span><span class="nx">bindAll</span> <span class="err">@</span><span class="p">,</span> <span class="s1">&#39;addOne&#39;</span><span class="p">,</span> <span class="s1">&#39;addAll&#39;</span><span class="p">,</span> <span class="s1">&#39;render&#39;</span>
    <span class="vi">@asset_tag_number = </span><span class="nx">@$</span> <span class="s1">&#39;#asset_tag_number&#39;</span>
    <span class="vi">@make             = </span><span class="nx">@$</span> <span class="s1">&#39;#make&#39;</span>
    <span class="vi">@model_number     = </span><span class="nx">@$</span> <span class="s1">&#39;#model_number&#39;</span>
    <span class="vi">@serial_number    = </span><span class="nx">@$</span> <span class="s1">&#39;#serial_number&#39;</span>
    <span class="vi">@notes            = </span><span class="nx">@$</span> <span class="s1">&#39;#notes&#39;</span>
    <span class="vi">@who_has_it       = </span><span class="nx">@$</span> <span class="s1">&#39;#who_has_it&#39;</span></pre></div>             </td>           </tr>                               <tr id="section-23">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-23">&#182;</a>               </div>               <p>Binding the Inventory to the UI</p>             </td>             <td class="code">               <div class="highlight"><pre>    <span class="nx">Inventory</span><span class="p">.</span><span class="nx">bind</span> <span class="s1">&#39;add&#39;</span>     <span class="p">,</span> <span class="nx">@addOne</span>
    <span class="nx">Inventory</span><span class="p">.</span><span class="nx">bind</span> <span class="s1">&#39;refresh&#39;</span> <span class="p">,</span> <span class="nx">@addAll</span>
    <span class="nx">Inventory</span><span class="p">.</span><span class="nx">bind</span> <span class="s1">&#39;all&#39;</span>     <span class="p">,</span> <span class="nx">@render</span></pre></div>             </td>           </tr>                               <tr id="section-24">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-24">&#182;</a>               </div>               <p>Adding in logic to do when a single item is added to the view</p>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="nv">addOne: </span><span class="nf">(equipment) -&gt;</span>
    <span class="nv">view = </span><span class="k">new</span> <span class="nx">EquipmentView</span> <span class="nv">model: </span><span class="nx">equipment</span>
    <span class="nx">@$</span><span class="p">(</span><span class="s1">&#39;#equipment-list&#39;</span><span class="p">).</span><span class="nx">append</span> <span class="nx">view</span><span class="p">.</span><span class="nx">render</span><span class="p">().</span><span class="nx">el</span></pre></div>             </td>           </tr>                               <tr id="section-25">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-25">&#182;</a>               </div>               <p>Adding in logic to add inventory when there is a refresh of all inventory</p>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="nv">addAll: </span><span class="o">-&gt;</span> <span class="nx">Inventory</span><span class="p">.</span><span class="nx">each</span> <span class="nx">@addOne</span></pre></div>             </td>           </tr>                               <tr id="section-26">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-26">&#182;</a>               </div>               <p>Creating a hash of all the attributes on the form</p>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="nv">newAttributes: </span><span class="o">-&gt;</span>
    <span class="nv">asset_tag_number: </span> <span class="nx">@$</span><span class="p">(</span> <span class="s1">&#39;#asset_tag_number&#39;</span> <span class="p">).</span><span class="nx">val</span><span class="p">()</span>
    <span class="nv">make: </span>             <span class="nx">@$</span><span class="p">(</span> <span class="s1">&#39;#make&#39;</span> <span class="p">).</span><span class="nx">val</span><span class="p">()</span>
    <span class="nv">model_number: </span>     <span class="nx">@$</span><span class="p">(</span> <span class="s1">&#39;#model_number&#39;</span> <span class="p">).</span><span class="nx">val</span><span class="p">()</span>
    <span class="nv">serial_number: </span>    <span class="nx">@$</span><span class="p">(</span> <span class="s1">&#39;#serial_number&#39;</span> <span class="p">).</span><span class="nx">val</span><span class="p">()</span>
    <span class="nv">notes: </span>            <span class="nx">@$</span><span class="p">(</span> <span class="s1">&#39;#notes&#39;</span> <span class="p">).</span><span class="nx">val</span><span class="p">()</span>
    <span class="nv">who_has_it: </span>       <span class="nx">@$</span><span class="p">(</span> <span class="s1">&#39;#who_has_it&#39;</span> <span class="p">).</span><span class="nx">val</span><span class="p">()</span>
    <span class="nv">order: </span>            <span class="nx">Inventory</span><span class="p">.</span><span class="nx">nextOrder</span><span class="p">()</span></pre></div>             </td>           </tr>                               <tr id="section-27">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-27">&#182;</a>               </div>               <p>Determining if there are any attributes there to save</p>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="nv">hasAttributes: </span><span class="o">-&gt;</span>
    <span class="nx">@$</span><span class="p">(</span> <span class="s1">&#39;#asset_tag_number&#39;</span> <span class="p">).</span><span class="nx">val</span><span class="p">()</span> <span class="o">or</span>
    <span class="nx">@$</span><span class="p">(</span> <span class="s1">&#39;#make&#39;</span> <span class="p">).</span><span class="nx">val</span><span class="p">()</span> <span class="o">or</span>
    <span class="nx">@$</span><span class="p">(</span> <span class="s1">&#39;#model_number&#39;</span> <span class="p">).</span><span class="nx">val</span><span class="p">()</span> <span class="o">or</span>
    <span class="nx">@$</span><span class="p">(</span> <span class="s1">&#39;#serial_number&#39;</span> <span class="p">).</span><span class="nx">val</span><span class="p">()</span> <span class="o">or</span>
    <span class="nx">@$</span><span class="p">(</span> <span class="s1">&#39;#notes&#39;</span> <span class="p">).</span><span class="nx">val</span><span class="p">()</span> <span class="o">or</span>
    <span class="nx">@$</span><span class="p">(</span> <span class="s1">&#39;#who_has_it&#39;</span> <span class="p">).</span><span class="nx">val</span><span class="p">()</span></pre></div>             </td>           </tr>                               <tr id="section-28">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-28">&#182;</a>               </div>               <p>Creating a new record when there are attributes and the enter key is pressed</p>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="nv">createOnEnter: </span><span class="nf">(e) -&gt;</span>
    <span class="k">return</span> <span class="kc">null</span> <span class="nx">unless</span> <span class="nx">@hasAttributes</span><span class="p">()</span>
    <span class="k">return</span> <span class="kc">null</span> <span class="nx">unless</span> <span class="nx">e</span><span class="p">.</span><span class="nx">keyCode</span> <span class="o">is</span> <span class="mi">13</span>
    <span class="nx">Inventory</span><span class="p">.</span><span class="nx">create</span> <span class="nx">@newAttributes</span><span class="p">()</span>
    <span class="nx">@asset_tag_number</span><span class="p">.</span><span class="nx">val</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">)</span> 
    <span class="nx">@make</span><span class="p">.</span><span class="nx">val</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">)</span>             
    <span class="nx">@model_number</span><span class="p">.</span><span class="nx">val</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">)</span>           
    <span class="nx">@serial_number</span><span class="p">.</span><span class="nx">val</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
    <span class="nx">@notes</span><span class="p">.</span><span class="nx">val</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
    <span class="nx">@who_has_it</span><span class="p">.</span><span class="nx">val</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">)</span>     </pre></div>             </td>           </tr>                               <tr id="section-29">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-29">&#182;</a>               </div>               <p>The actual instance to perform the CRUD</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="nb">window</span><span class="p">.</span><span class="nv">Inventory = </span><span class="k">new</span> <span class="nx">EquipmentList</span><span class="p">()</span></pre></div>             </td>           </tr>                               <tr id="section-30">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-30">&#182;</a>               </div>               <p>Starting the application</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="nb">window</span><span class="p">.</span><span class="nv">App = </span><span class="k">new</span> <span class="nx">AppView</span>

</pre></div>             </td>           </tr>                </tbody>     </table>   </div> </body> </html> 